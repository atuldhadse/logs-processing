# Tech Stack
- Java 17
- Spring Boot 3.4.5
- Apache Kafka 3.9
- Elasticsearch 7.17.27

# Kafka Setup
I used Apache Kafka 3.9 so that I can start Kafka using either Zookeeper or KRaft.

## Steps I followed to start the Kafka broker (using KRaft)
1. `bin\windows\kafka-storage.bat random-uuid`
2. `set KAFKA_CLUSTER_ID=generated-uuid`
3. `bin\windows\kafka-storage.bat format --standalone -t $KAFKA_CLUSTER_ID -c config\kraft\server.properties`
4. `bin\windows\kafka-server-start.bat config\kraft\server.properties`

# Spring Boot Project Configuration
Inside my Spring Boot project, I did Kafka configuration including serialization and deserialization inside the package `com.times.logs.config` for both producer and consumer.

For the consumer, I set `trusted packages = "com.times.logs.dto"` because this is where my `LogEvent` class is located. We could also use `*` to trust all packages.

## Creating a Kafka Topic
To create a topic, I used the following command:
```bash
bin\windows\kafka-topics.bat --bootstrap-server localhost:9092 --create --topic logs-topic --partitions 3 --replication-factor 1
```

Here, I created 3 partitions to understand more about partitions and offsets.

I also created a topic configuration for the same logs-topic inside com.times.logs.config.TopicsConfig, but it is commented out. Uncomment it to let the topic be generated by Spring.

I downloaded Offset Explorer to check the data in each partition.

# Elasticsearch Configuration
`I did the Elasticsearch configuration in the same package com.times.logs.config and wrote all the code related to creating the index and searching data inside the class ElasticsearchServiceImpl`

I have created 2 endpoints (currently, I have put them in different controllers):

POST /logs/push - Push the logs
GET /logs/search - Search the logs

I have added Swagger to the project. Run the LogsApplication class and access it at localhost:8088/swagger-ui/index.html

